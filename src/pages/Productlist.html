import React from "react";
import { useEffect, useState } from "react";
// ~url?limit=Number&skip=Number식의 쿼리를 날릴 수 있습니다.

// limit = {몇개 불러올지}&skip={몇개 건너뛸지}
// ex) 게시글 10개를 넘어가고 다음 5개의 게시글을 가져온다, 11번째 게시글부터 5개의 게시글 불러오기
// /post/feed/?limit=5&skip=10

// 이 기능을 활용해서 페이지 처리를 할 수 있습니다!

const ProductList = () => {
  // const [productlists, setProductlists] = useState([]);
  const [products, setProducts] = useState("");
  const url = "https://mandarin.api.weniv.co.kr";

  useEffect(() => {
    const product = async () => {
      const token = window.localStorage.getItem("token");
      const res = await fetch(url + "/product/test13", {
        method: "GET",
        headers: {
          Authorization: `Bearer ${token}`,
          "Content-type": "application/json",
        },
      });
      const json = await res.json();
      setProducts(json);
    };
    
  product();
  }, []);
  {products.map((product) => {
    return (
      <img src={product.itemImage}></img>
    )
  })}
  
  console.log(products);
  
  const productList = products.product
  console.log(productList)
return (
  <>
  {products.map(products)=>{
    return<p key={products.id}>{products.itemName}</p>
  }}
  </>
);
};

export default ProductList;
